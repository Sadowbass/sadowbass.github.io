---
title: "길드 관리 애플리케이션 #1"

categories:
  - Guild-Management
tags:
  - Guild Management
  - Spring
  - JPA

last_modified_at: 2022-10-20T16:35:00+09:00

---

저는 현재 하는 게임의 운영진을 맡고 있습니다.  
게임의 길드 시스템이 사실 그리 친절하지 않아  
제가 처음 운영진이 되었을 때 길드 운영이 굉장히 아날로그스러웠고 불편했습니다.  
게임 내에서는 큰 불편함이 없었지만, 회원 관리가 참 어려웠습니다.  
이 회원이 언제 가입하였는지, 몇 개의 캐릭터를 보유하고 있는지, 캐릭터의 정보를 보려면 매번 인터넷으로 검색해서 찾아봐야 함에 귀찮음이 자꾸 생겼죠.  

그래서 만들기로 했습니다.  
운영진들의 회의내용이나 여러 안건, 건의 등은 트렐로로 해결이 가능하였지만,  
길드원 관리는 불편하였기에 이를 위한 애플리케이션 제작기를 작성합니다.  

사실 이미 만들어져 있어서 과정보다는 결과와 왜 그렇게 개발하였는지에 대한 내용이 주가 될 예정입니다.  
모든 코드는 하단의 깃허브 링크에서 확인이 가능합니다.  
[길드관리 어플리케이션 깃허브](https://github.com/Sadowbass/dalsom-management-application)
<br>

사용 기술
===

**JAVA 11**  
**Spring Boot 2.6.9**  
**Spring Security**  
**Spring Web**  
**JPA(Spring Data Jpa)**  
**Query DSL**  
**MariaDB**  
**H2**  

## 기술 선정사유
자바와 스프링은 생략합니다.

### Spring Security
개인적으로 처음 사용을 시도해보는 디펜던시입니다.  
이번 프로젝트에서 oAuth를 구현하지는 않을것이지만 JWT 기반의 토큰 인증이 가능하고 ID & PWD 기반의 인증이 가능합니다.  
깊게 공부하고 사용하는것은 아니고 허가되지 않은 접근의 차단을 위해 사용하였습니다.  
다중서버 환경에서는 세션이나 쓰레드 로컬의 문제가 발생할 수 있으나 SecurityContextHolder 클래스를 보면 ThreadLocal, Global 등 다양한 strategy를 지원하여  
공부를 하고 사용한다면 세션 클러스터링이나 redis등을 이용한 session storage 방식의 구현도 가능해 보입니다.  
내부를 뜯어보면 굉장히 복잡하고 정교하게 설계가 되어있습니다.  
요즘은 security를 요구하는 기업이 많이 보이지 않지만 그래도 써보고싶을때 써봐야지 싶어 사용을 결정!

### JPA(Spring Data JPA)
자바진영의 ORM.  
최근 여러 기업에서 요구하는 기술스택중 하나이며 개인적으로도 관심이 컸던 기술이라  
가장 신경써서 사용하였습니다.  
말만 들었을때는 꿈과 환상의 기술이지만 실제로 사용해보면 불편한 점과 골치 아픈점이 꽤 있으며  
이러한 부분을 어떻게 해결, 작성 하였는지가 실질적인 이번 블로그 글의 중심 주제가 될 예정입니다.

### QueryDSL
JPA의 부족한 부분을 싹싹 긁어주며 동적쿼리의 생성 역시 강력합니다.  
엔티티가 아닌 DTO 조회등에서 어마어마하게 편리하며 (코드 작성이 마냥 편리한것은 아닙니다) 
자바 코드로 쿼리를 만들다보니 런타임 에러가 컴파일 에러로 잡히는 기적같은 일을 만들어줍니다.  
다만 결국은 코드 -> JPQL이다보니 JPQL에서 안 되는건 이걸로도 안 되는건 마찬가지입니다.

### MariaDB
왜 mysql이 아니라 굳이 mariadb를 이용하였느냐?  
전 현재 m1 맥북을 이용하고 있습니다.  
m1 맥이 출시되었을때 아키텍처 문제로 도커 등에 여러 문제가 있었으나 빠른 지원이 되었고 
당시에 mysql의 도커 이미지가 정상적으로 작동하지 않았으며 mariadb가 더 빠르게 지원이 되었기에 
도커에 mariadb를 설치했었습니다.  
mysql은 지금도 검색해보니 도커에 platform 설정을 해줘야 이용이 가능한것으로 보여서 이번에도 mariadb를 선택하였습니다.  

## 그러면 시작!